<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Spark Framework Source: core/View.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.dark.css">

	<link type="text/css" rel="stylesheet" href="styles/site.spacelab.css">

</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">Spark Framework</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu inline">
						
						<li>
							<a href="spark.components.Button.html">spark.components.Button</a>
						</li>
						
						<li>
							<a href="spark.components.Checkbox.html">spark.components.Checkbox</a>
						</li>
						
						<li>
							<a href="spark.components.Field.html">spark.components.Field</a>
						</li>
						
						<li>
							<a href="spark.components.Form.html">spark.components.Form</a>
						</li>
						
						<li>
							<a href="spark.components.Input.html">spark.components.Input</a>
						</li>
						
						<li>
							<a href="spark.components.Label.html">spark.components.Label</a>
						</li>
						
						<li>
							<a href="spark.components.LabeledInput.html">spark.components.LabeledInput</a>
						</li>
						
						<li>
							<a href="spark.components.Radio.html">spark.components.Radio</a>
						</li>
						
						<li>
							<a href="spark.core.Object.html">spark.core.Object</a>
						</li>
						
						<li>
							<a href="spark.core.View.html">spark.core.View</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: core/View.js</h1>
    
<section>
	<article>
		<pre
			class="sunlight-highlight-javascript linenums">// Generated by github.com/steida/coffee2closure 0.1.9
goog.provide('spark.core.View');
goog.require('spark.core.Object');
goog.require('spark.utils');

/**
  Main View class of Spark Framework.
 */

/**
  @constructor
  @param   {Object=} options Class options.
  @param   {*=} data Class data
  @extends {spark.core.Object}
 */
spark.core.View = function(options, data) {
  if (options == null) {
    options = {};
  }
  options.cssClass = "" + (spark.utils.concatString('view', options.cssClass));
  options.tagName || (options.tagName = 'div');
  options.domId || (options.domId = null);
  options.template || (options.template = null);
  options.disabled || (options.disabled = false);
  options.eventHandlers || (options.eventHandlers = {});
  spark.core.View.superClass_.constructor.call(this, options, data);
  this.children = [];
  this.createDomElement();
  this.bindEventHandlers();
  if (options.disabled) {
    this.disable();
  }
}
goog.inherits(spark.core.View, spark.core.Object);

/**
  Creates the element with the configuration passed to constructor.
 */
spark.core.View.prototype.createDomElement = function() {
  var cssClass, domId, tagName, template, _ref;
  _ref = this.getOptions(), tagName = _ref.tagName, domId = _ref.domId, cssClass = _ref.cssClass, template = _ref.template;
  this.element = document.createElement(tagName);
  this.setClass(cssClass);
  if (domId) {
    this.setDomId(domId);
  }
  if (template) {
    return this.setTemplate(template);
  }
};

/**
  Sets DOM id.
  @param {!string} domId Id of the element.
 */
spark.core.View.prototype.setDomId = function(domId) {
  return this.getElement().id = domId;
};

/**
  Returns the DOM id if exists, otherwise it will return null
  @return {string|null}
 */
spark.core.View.prototype.getDomId = function() {
  return this.getElement().id || null;
};

/**
  Sets the class name of element. This will override existing class names.
  Use `@addClass` if you want to add new class name to the element.
  @param {!string} cssClass Class name.
 */
spark.core.View.prototype.setClass = function(cssClass) {
  return this.getElement().className = cssClass;
};

/**
  Returns class name of the element.
  @return {string} Class name.
 */
spark.core.View.prototype.getClass = function() {
  return this.getElement().className;
};

/**
  Returns class list of the element.
  @return {Array} List of class names.
 */
spark.core.View.prototype.getClassList = function() {
  return this.getElement().classList;
};

/**
  Adds new class name to element.
  @param {!string} cssClass New class name for the element.
 */
spark.core.View.prototype.addClass = function(cssClass) {
  return this.getElement().classList.add(cssClass);
};

/**
  Remove a class name from the element.
  @param {!string} cssClass Name of the class which will be removed.
 */
spark.core.View.prototype.removeClass = function(cssClass) {
  return this.getElement().classList.remove(cssClass);
};

/**
  Returns true if element has that class name.
  @param {!string} cssClass Name of the class which will be tested.
  @return {boolean} Whether element has a class name or not.
 */
spark.core.View.prototype.hasClass = function(cssClass) {
  return this.getElement().classList.contains(cssClass);
};

/**
  Returns the DOM element.
  @return {Node} DOM element of this view.
 */
spark.core.View.prototype.getElement = function() {
  return this.element;
};

/**
  Very basic support of templating. Spark Framework will provide much more
  powerful templating solution but that's better than nothing for now.
  @param {!string} template HTML markup of the element.
 */
spark.core.View.prototype.setTemplate = function(template) {
  return this.getElement().innerHTML = template;
};

/**
  Appends view into document's body.
 */
spark.core.View.prototype.appendToDocumentBody = function() {
  return document.body.appendChild(this.getElement());
};

/**
  Removes element from DOM if it is in DOM.
  @return {boolean} Whether element removed from document or not.
 */
spark.core.View.prototype.removeFromDocument = function() {
  var element, parent;
  element = this.getElement();
  parent = element.parentNode;
  if (!parent) {
    return false;
  }
  parent.removeChild(element);
  return true;
};

/**
  Appends a new view into this view's element as a child.
  @param {!spark.core.View} view A spark.View instance to append.
 */
spark.core.View.prototype.appendView = function(view) {
  var error;
  if (!(view instanceof spark.core.View)) {
    error = 'View should be an instance of spark.core.View';
  } else if (this.children.indexOf(view) > -1) {
    error = 'This view already appended to target view.';
  }
  if (error) {
    throw new Error(error);
  }
  this.children.push(view);
  return this.getElement().appendChild(view.getElement());
};

/**
  Native setAttribute wrapper.
  @param {!string} name  Atrribute name.
  @param {!string} value Attribute value.
 */
spark.core.View.prototype.setAttribute = function(name, value) {
  return this.getElement().setAttribute(name, value);
};

/**
  Native getAttribute wrapper.
  @param {!string} name  Atrribute name.
 */
spark.core.View.prototype.getAttribute = function(name) {
  return this.getElement().getAttribute(name);
};

/**
  Native removeAttribute wrapper.
  @param {!string} name  Atrribute name.
 */
spark.core.View.prototype.removeAttribute = function(name) {
  return this.getElement().removeAttribute(name);
};

/**
  Disable view.
 */
spark.core.View.prototype.disable = function() {
  var disabled;
  disabled = 'disabled';
  this.addClass(disabled);
  this.setAttribute(disabled, disabled);
  return this.isDisabled = true;
};

/**
  Enable view.
 */
spark.core.View.prototype.enable = function() {
  var disabled;
  disabled = 'disabled';
  this.removeClass(disabled);
  this.removeAttribute(disabled);
  return delete this.isDisabled;
};

/**
  Toggle view state. Disable if enabled, enable if disabled.
 */
spark.core.View.prototype.toggle = function() {
  if (this.isDisabled) {
    return this.enable();
  } else {
    return this.disable();
  }
};

/**
  @override
  Override Object::on to support two way binding for DOM events.
 */
spark.core.View.prototype.on = function(eventName, callback) {
  if (spark.core.View.EventTypes[eventName]) {
    goog.events.listen(this.getElement(), eventName, callback);
  }
  return goog.events.listen(this, eventName, callback);
};

/**
  @override
  Override Object::once to support two way binding for DOM events.
 */
spark.core.View.prototype.once = function(eventName, callback) {
  if (spark.core.View.EventTypes[eventName]) {
    goog.events.listenOnce(this.getElement(), eventName, callback);
  }
  return goog.events.listenOnce(this, eventName, callback);
};

/**
  @override
  Override Object::off to remove events binded to DOM element.
 */
spark.core.View.prototype.off = function(eventName, callback) {
  goog.events.unlisten(this.getElement(), eventName, callback);
  return this.unlisten(eventName, callback);
};

/**
  This method is responsible from binding DOM events to the element of this view.
  It uses native DOM event names which is all lowercase. If your options
  has an event name and a callback function in eventHandlers object
  View will bind and listen those events automatically.
 */
spark.core.View.prototype.bindEventHandlers = function() {
  var callback, element, eventTypes, key, _ref, _results;
  eventTypes = spark.core.View.EventTypes;
  element = this.getElement();
  _ref = this.getOptions().eventHandlers;
  _results = [];
  for (key in _ref) {
    callback = _ref[key];
    if (eventTypes[key] && typeof callback === 'function') {
      _results.push(this.on(goog.events.EventType[eventTypes[key]], callback));
    } else {
      _results.push(void 0);
    }
  }
  return _results;
};

/**
  A transposed map of goog.events.EventType
 */
spark.core.View.EventTypes = goog.object.transpose(goog.events.EventType);</pre>
	</article>
</section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					Spark Framework by Fatih Acet <fatih@fatihacet.com>
					<br />
					
					
		<span class="copyright">
		Copyright © 2014 - Fatih Acet
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>
		on 2014-10-18T20:34:46+00:00 using the <a
			href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<!--<script src="scripts/sunlight.js"></script>-->
	<script src="scripts/docstrap.lib.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>

	<script>
		$( function () {
			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );

			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "100px"
			} );

			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );
			$( '.dropdown-toggle' ).dropdown();
//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

			$( ".tutorial-section pre, .readme-section pre" ).each( function () {
				var $this = $( this );

				var example = $this.find( "code" );
				exampleText = example.html();
				var lang = /{@lang (.*?)}/.exec( exampleText );
				if ( lang && lang[1] ) {
					exampleText = exampleText.replace( lang[0], "" );
					example.html( exampleText );
					lang = lang[1];
				} else {
					lang = "javascript";
				}

				if ( lang ) {

					$this
						.addClass( "sunlight-highlight-" + lang )
						.addClass( "linenums" )
						.html( example.html() );

				}
			} );

			Sunlight.highlightAll( {
				lineNumbers : true,
				showMenu : true,
				enableDoclinks : true
			} );
		} );
	 </script>



	<!--Navigation and Symbol Display-->
	


	<!--Google Analytics-->
	

</body>
</html>
