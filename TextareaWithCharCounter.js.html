<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Spark Framework Source: components/textarea/TextareaWithCharCounter.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.dark.css">

	<link type="text/css" rel="stylesheet" href="styles/site.spacelab.css">

</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">Spark Framework</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu inline">
						
						<li>
							<a href="spark.components.Button.html">spark.components.Button</a>
						</li>
						
						<li>
							<a href="spark.components.Checkbox.html">spark.components.Checkbox</a>
						</li>
						
						<li>
							<a href="spark.components.ComboBox.html">spark.components.ComboBox</a>
						</li>
						
						<li>
							<a href="spark.components.DraggableView.html">spark.components.DraggableView</a>
						</li>
						
						<li>
							<a href="spark.components.Field.html">spark.components.Field</a>
						</li>
						
						<li>
							<a href="spark.components.Form.html">spark.components.Form</a>
						</li>
						
						<li>
							<a href="spark.components.Input.html">spark.components.Input</a>
						</li>
						
						<li>
							<a href="spark.components.Label.html">spark.components.Label</a>
						</li>
						
						<li>
							<a href="spark.components.LabeledInput.html">spark.components.LabeledInput</a>
						</li>
						
						<li>
							<a href="spark.components.Modal.html">spark.components.Modal</a>
						</li>
						
						<li>
							<a href="spark.components.Overlay.html">spark.components.Overlay</a>
						</li>
						
						<li>
							<a href="spark.components.Password.html">spark.components.Password</a>
						</li>
						
						<li>
							<a href="spark.components.Radio.html">spark.components.Radio</a>
						</li>
						
						<li>
							<a href="spark.components.Textarea.html">spark.components.Textarea</a>
						</li>
						
						<li>
							<a href="spark.components.TextareaWithCharCounter.html">spark.components.TextareaWithCharCounter</a>
						</li>
						
						<li>
							<a href="spark.components.ToggleSwitch.html">spark.components.ToggleSwitch</a>
						</li>
						
						<li>
							<a href="spark.core.HistoryManager.html">spark.core.HistoryManager</a>
						</li>
						
						<li>
							<a href="spark.core.HistoryManager.TokenTransformer.html">spark.core.HistoryManager.TokenTransformer</a>
						</li>
						
						<li>
							<a href="spark.core.Object.html">spark.core.Object</a>
						</li>
						
						<li>
							<a href="spark.core.Router.html">spark.core.Router</a>
						</li>
						
						<li>
							<a href="spark.core.Store.html">spark.core.Store</a>
						</li>
						
						<li>
							<a href="spark.core.View.html">spark.core.View</a>
						</li>
						
						<li>
							<a href="spark.widgets.SignUp.html">spark.widgets.SignUp</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: components/textarea/TextareaWithCharCounter.js</h1>
    
<section>
	<article>
		<pre
			class="sunlight-highlight-javascript linenums">// Generated by github.com/steida/coffee2closure 0.1.9
goog.provide('spark.components.TextareaWithCharCounter');
goog.require('spark.components.Textarea');
goog.require('goog.ui.CharCounter');

/**
  Texarea component with built-in char counter like Twitter 140 char input.
  By default char limit is 140. See `charLimit` option. Counter element may be
  configured to be invisible. See `isCounterVisible` option. Default char
  counter is a remaining counter also it may be an incremental counter. See
  `showRemainingCount` option. By default the counter view will be appended to
  `document.body`. To change it see `counterContainer` option.

  @constructor
  @export
  @param   {Object=} options Class options.
  @param   {*=} data Class data
  @extends {spark.components.Textarea}
 */
spark.components.TextareaWithCharCounter = function(options, data) {
  var _ref, _ref1;
  if (options == null) {
    options = {};
  }
  options.charLimit || (options.charLimit = options['charLimit'] || 140);
  options.counterContainer || (options.counterContainer = options['counterContainer'] || document.body);
  if (options.isCounterVisible == null) {
    options.isCounterVisible = (_ref = options['isCounterVisible']) != null ? _ref : true;
  }
  if (options.showRemainingCount == null) {
    options.showRemainingCount = (_ref1 = options['showRemainingCount']) != null ? _ref1 : true;
  }
  spark.components.TextareaWithCharCounter.superClass_.constructor.call(this, options, data);
}
goog.inherits(spark.components.TextareaWithCharCounter, spark.components.Textarea);

/**
  @override
 */
spark.components.TextareaWithCharCounter.prototype.decorate_ = function() {
  var charLimit, charMode, counterContainer, counterEl, isCounterVisible, showRemainingCount, textareaEl, _ref;
  spark.components.TextareaWithCharCounter.superClass_.decorate_.apply(this, arguments);
  _ref = this.getOptions(), counterContainer = _ref.counterContainer, charLimit = _ref.charLimit, isCounterVisible = _ref.isCounterVisible, showRemainingCount = _ref.showRemainingCount;
  this.counterView = new spark.core.View({
    cssClass: 'textarea-counter',
    renderTo: counterContainer
  });
  if (!isCounterVisible) {
    this.counterView.addClass('hidden');
  }
  counterEl = this.counterView.getElement();
  textareaEl = this.getTextaraeElement_();
  charMode = goog.ui.CharCounter.Display.REMAINING;
  if (!showRemainingCount) {
    charMode = goog.ui.CharCounter.Display.INCREMENTAL;
  }
  this.counter = new goog.ui.CharCounter(textareaEl, counterEl, charLimit, charMode);
  return this.counter.checkLength();
};

/**
  Returns the textarea element. This method should live here because of the
  return annotation, Compiler needs it.

  @private
  @return {HTMLTextAreaElement}
 */
spark.components.TextareaWithCharCounter.prototype.getTextaraeElement_ = function() {
  return this.textarea_.getElement();
};

/**
  Sets the value and triggers counter to check it's length.

  @export
  @override
 */
spark.components.TextareaWithCharCounter.prototype.setValue = function(value) {
  spark.components.TextareaWithCharCounter.superClass_.setValue.apply(this, arguments);
  if (this.counter) {
    return this.counter.checkLength();
  }
};

/**
  Set counter's max length. It can be modified on run time. If you set the new
  length to be less than the previous value, counter will update itself and it
  will also truncate the value in textbox if the textbox value's length is
  more than the new max length.

  @export
  @param {number} length Max length for counter.
 */
spark.components.TextareaWithCharCounter.prototype.setCharLimit = function(length) {
  return this.counter.setMaxLength(length);
};

/**
  Returns counter view instance.

  @export
  @return {spark.core.View}
 */
spark.components.TextareaWithCharCounter.prototype.getCounterView = function() {
  return this.counterView;
};

/**
  Destroy's the component.

  @export
 */
spark.components.TextareaWithCharCounter.prototype.destroy = function() {
  spark.components.TextareaWithCharCounter.superClass_.destroy.apply(this, arguments);
  this.removeFromDocument();
  this.counter.disposeInternal();
  this.counter = null;
  this.getCounterView().removeFromDocument();
  return this.counterView = null;
};</pre>
	</article>
</section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					Spark Framework by Fatih Acet <fatih@fatihacet.com>
					<br />
					
					
		<span class="copyright">
		Copyright Â© 2014 - Fatih Acet
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>
		on 2015-01-12T16:47:10+00:00 using the <a
			href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<!--<script src="scripts/sunlight.js"></script>-->
	<script src="scripts/docstrap.lib.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>

	<script>
		$( function () {
			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );

			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "100px"
			} );

			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );
			$( '.dropdown-toggle' ).dropdown();
//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

			$( ".tutorial-section pre, .readme-section pre" ).each( function () {
				var $this = $( this );

				var example = $this.find( "code" );
				exampleText = example.html();
				var lang = /{@lang (.*?)}/.exec( exampleText );
				if ( lang && lang[1] ) {
					exampleText = exampleText.replace( lang[0], "" );
					example.html( exampleText );
					lang = lang[1];
				} else {
					lang = "javascript";
				}

				if ( lang ) {

					$this
						.addClass( "sunlight-highlight-" + lang )
						.addClass( "linenums" )
						.html( example.html() );

				}
			} );

			Sunlight.highlightAll( {
				lineNumbers : true,
				showMenu : true,
				enableDoclinks : true
			} );
		} );
	 </script>



	<!--Navigation and Symbol Display-->
	


	<!--Google Analytics-->
	

</body>
</html>
